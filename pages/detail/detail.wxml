<!--pages/detail/detail.wxml-->
<!-- 头部 -->
<view class="bg">
    <nav-bar navbar-data='{{navbarData}}'></nav-bar>
    <view style='margin-top: {{height}}px'>
        <view class="detail_wrap"> 
            <!-- 表头 -->
            <view class="detail_header">
                <view class="left_wrap">
                    <view class="user_name">小米</view>
                    <view class="data">2019-12-23</view>
                </view>
                <view class="right_wrap">
                    <image src="../../resource/logo.png" style="width: 150rpx; height: 150rpx" ></image>
                </view>   
            </view>
            <!-- 检测设置 -->
            <view class="detect_title">
                <view class="title">检测设置</view>
                <view class="correct" bindtap="submit">纠正检测参数</view>
                <!-- 蒙版 点击纠正检测参数框 -->
                <view class="mask" catchtouchmove="preventTouchMove" wx:if="{{showModal}}" bindtap="hideMode"></view>
                <view class="modalTaikuang" wx:if="{{showModal}}">
                    <view class="top">
                        <view class="yanjing">
                            <view class=" {{showGlasses? 'img_grey': ''}} img_item" bindtap="hideGlasses" >裸眼</view>
                        </view>
                        <view class="yanjing">
                            <view class="img_item  img_grey {{showGlasses? 'addGreen': '' }}" bindtap="glassesSetting">
                                眼镜
                            </view>
                            <!-- 眼镜滑块设置 -->
                            <view class="progress_container" wx:if="{{showGlasses}}">
                                <view class="first_gap">
                                    <view class="gap_con">
                                        <text class="gap">左眼度数</text>  
                                        <text class="gap_title">{{left_Degrees}}</text>
                                    </view>
                                    <view class="body-view">
                                        <slider bindchange="getLeftDegrees"  bindchanging="getLeftDegrees" block-size="18" value="{{left_Degrees}}" show-value min="0" max="1200"/>
                                    </view>
                                </view>
                                <view class="first_gap">
                                    <view class="gap_con">
                                        <text class="gap">右眼度数</text>  
                                        <text class="gap_title">{{right_Degrees}}</text>
                                    </view>
                                    <view class="body-view">
                                        <slider bindchange="getRightDegrees" bindchanging="getRightDegrees" block-size="18"  value="{{right_Degrees}}"  show-value min="0" max="1200"/>
                                    </view>
                                </view>
                                <view class="first_gap">
                                    <view class="gap_con">
                                        <text class="gap">左眼散光</text>  
                                        <text class="gap_title">{{left_astigmatism}}</text>
                                    </view>
                                    <view class="body-view">
                                        <slider  bindchange="getLeftAstigmatism" bindchanging="getLeftAstigmatism" block-size="18"  value="{{left_astigmatism}}" show-value min="0" max="1200"/>
                                    </view>
                                </view>
                                <view class="first_gap">
                                    <view class="gap_con">
                                        <text class="gap">右眼散光</text>  
                                        <text class="gap_title">{{right_astigmatism}}</text>
                                    </view>
                                    <view class="body-view">
                                        <slider  bindchange="getRightAstigmatism"  bindchanging	="getRightAstigmatism" block-size="18"  value="{{right_astigmatism}}" show-value min="0" max="1200"/>
                                    </view>
                                </view>
                            </view>
                        </view>
                    </view>
                    <view class="bottom">
                        <view class="yanjing">
                            <view class="img_item {{show_distance? 'img_opacity': ''}}" bindtap="hideDistance">
                                <image src="../../resource/find.png" style="width: 60rpx;height: 60rpx"></image>
                            </view>
                            <text class="glasess_title">裸眼眼镜</text>
                        </view>
                        <view class="yanjing" >
                            <view class="img_item {{!show_distance?'img_opacity': ''}}" bindtap="showDistance">
                                <image src="../../resource/find.png" style="width: 60rpx;height: 60rpx"></image>
                            </view>
                            <text class="glasess_title">检测距离</text>
                        </view>
                        <!-- 点击检测距离出来数据 -->
                        <view class="top distance" wx:if="{{show_distance}}">
                            <view class="yanjing">
                                <view class=" {{showGlasses? 'img_grey': ''}} img_item" bindtap="hideGlasses">50</view>
                            </view>
                            <view class="yanjing">
                                <view class=" {{showGlasses? 'img_grey': ''}} img_item" bindtap="hideGlasses">100</view>
                            </view>
                            <view class="yanjing">
                                <view class=" {{showGlasses? 'img_grey': ''}} img_item" bindtap="hideGlasses">150</view>
                            </view>
                        </view>
                    </view>
                </view>
            </view>
            <!-- 检测设置下边框 -->
            <view class="detect_content">
                <view class="detect_data">检测时间：2019-12-23 13：48</view>
                <view class="detail_total">
                    <view class="detail_item">
                        <view class="detail_msg"> 检测距离</view>
                        <view class="detail_num">2.5m</view>
                    </view> 
                    <view class="detail_item">
                        <view class="detail_msg"> 检测距离</view>
                        <view class="detail_num">2.5m</view>
                    </view> 
                    <view class="detail_item">
                        <view class="detail_msg"> 检测距离</view>
                        <view class="detail_num">2.5m</view>
                    </view> 
                    <view class="detail_item">
                        <view class="detail_msg"> 检测距离</view>
                        <view class="detail_num">2.5m</view>
                    </view> 
                    <view class="detail_item">
                        <view class="detail_msg"> 检测距离</view>
                        <view class="detail_num">2.5m</view>
                    </view> 
                </view>
            </view>
            <!-- 检测结果 -->
            <view class="detect_title detect_result" >
            <view class="title">检测结果</view>
            </view>
            <view class="eye_sight_wrap">
                <view class="left_eye_sight">
                    <canvas canvas-id="runCanvas" id="runCanvas"  class="canvas_left" style="width:160px;height:160px;">
                    <view class="left_eye">
                        <view class="eye_left_title">左眼视力</view>
                        <view class="hLleft">4.5</view>
                        <view class="lLeft">0.3</view>
                    </view>
                    </canvas>
                    <view class="re_detect">
                        左眼重测
                    </view>
                
                </view>
                <view class="left_eye_sight">
                <canvas canvas-id="runCanvas2" id="runCanvas2"  style="width:160px;height:160px">
                    <view class="left_eye">
                        <view class="eye_left_title">右眼视力</view>
                        <view class="hLleft">4.5</view>
                        <view class="lLeft">0.3</view>
                    </view>
                </canvas>
                <view class="re_detect">
                        右眼重测
                    </view>
                </view>
            </view>
            <!-- 检测记录 -->
            <view class="detect_title">
                <view class="title">检测记录</view>
            </view>
            <view class="title_wrap">
                <view class="left_eye_detail">
                    <text> 左眼详情</text>
                    <view class="left_wrap_record">
                        <view class="total_wrap">
                        <view class="right_num" space="nbsp">正确: <text class="num" space="nbsp">  0.3  </text></view> 
                        <view class="wrong">错误:  <text class="num">3</text></view>
                        </view>
                        <view class="total_wrap bg_bold" space="nbsp">
                            <view class="hNum" >5.1 </view>
                            <view class="lNum"> / 1.2</view>
                        </view>
                    </view>
                    <view class="left_wrap_record">
                        <view class="total_wrap">
                        <view class="right_num" space="nbsp">正确: <text class="num" space="nbsp">  0.3  </text></view> 
                        <view class="wrong">错误:  <text class="num">3</text></view>
                        </view>
                        <view class="total_wrap bg_bold" space="nbsp">
                            <view class="hNum" >5.1 </view>
                            <view class="lNum"> / 1.2</view>
                        </view>
                    </view>
                </view>

                <view class="left_eye_detail">
                    <text> 右眼详情</text>
                    <view class="left_wrap_record">
                        <view class="total_wrap">
                        <view class="right_num" space="nbsp">正确: <text class="num" space="nbsp">  0.3  </text></view> 
                        <view class="wrong">错误:  <text class="num">3</text></view>
                        </view>
                        <view class="total_wrap bg_bold" space="nbsp">
                            <view class="hNum" >5.1 </view>
                            <view class="lNum"> / 1.2</view>
                        </view>
                    </view>
                    </view>
                </view>       
            </view>   
        </view>
 </view>
